<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Test grille 2 zines</title>
<style>
  body { font-family: Arial; padding: 20px; text-align: center; }
  .grid { display: grid; grid-template-columns: repeat(2, 80px); grid-gap: 10px; justify-content: center; margin-top: 20px; }
  .cell { width: 80px; height: 80px; display: flex; align-items: center; justify-content: center; font-weight: bold; border-radius: 5px; cursor: pointer; transition: 0.2s; font-size: 14px; }
  .avail { background: #66d46a; color: #000; }
  .sold { background: #dd4444; color: #fff; cursor: not-allowed; }
  .cell:hover { transform: scale(1.05); }
</style>
</head>
<body>
<h3>Test grille â€” 2 zines</h3>
<div id="grid" class="grid"></div>
<div>ðŸŸ© disponible â€” ðŸŸ¥ vendu</div>

<script>
// ID de ton Google Sheet classique publiÃ©
const SHEET_ID = "1YwOg6ddIx7WuE75vKRRlhZGaSzGBVDLtzQeFRHKEIXc";
const SHEET_URL = `https://opensheet.elk.sh/${SHEET_ID}/Feuille 1`;

async function loadGrid() {
  try {
    const res = await fetch(SHEET_URL);
    const rows = await res.json();

    const grid = document.getElementById("grid");
    grid.innerHTML = "";

    rows.forEach(r => {
      const id = r.id || r[0];
      const numero = r.numero || r[1];
      const link = r.paylink || r[2];
      const status = (r.status || r[3] || "").toLowerCase();

      const cell = document.createElement("div");
      cell.className = "cell " + (status === "vendu" ? "sold" : "avail");
      cell.textContent = numero || "?"; // Affiche le numÃ©ro
      if (status !== "vendu" && link) cell.onclick = () => window.open(link, "_blank");

      grid.appendChild(cell);
    });
  } catch (err) {
    console.error("Erreur en chargeant le Sheet :", err);
    document.getElementById("grid").textContent = "Impossible de charger les donnÃ©es.";
  }
}

// Chargement initial et rafraÃ®chissement toutes les 8 secondes
loadGrid();
setInterval(loadGrid, 8000);
</script>
</body>
</html>
